<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//fonts.loli.net/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic%7CRoboto+Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/themes/blue/pace-theme-minimal.css"><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script><script class="next-config" data-name="main" type="application/json">{"hostname":"xianlongok.site","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.10.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script><meta name="description" content="å¤§æ°”æ•£å°„ä»‹ç» å½“ä½ çœ‹åˆ°è“å¤©ç™½äº‘ï¼Œæ—¥è½é»„æ˜ï¼Œæˆ–è€…ä»å¤ªç©ºé¥æœ›åœ°çƒï¼Œåœ°çƒå‘¨å›´ä¸€åœˆè“è‰²å…‰æ™•ï¼Œæœ‰æ²¡æœ‰æƒ³è¿‡è¿™äº›ç°è±¡äº§ç”Ÿçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿè¿™äº›ç‰©ç†ç°è±¡ç”¨ä¸€å¥è¯è§£é‡Šï¼šå¤ªé˜³å…‰ä¸å¤§æ°”å±‚ä¸­çš„å‚ä¸ä»‹è´¨å‘ç”Ÿäº†å¤§æ°”æ•£å°„ç°è±¡ï¼Œä»è€Œå½¢æˆäº†å¤©ç©ºé¢œè‰²    æ•£å°„ å…‰æºçš„è¾å°„æ²¿ç€è·¯å¾„å‰è¡Œæ—¶ï¼Œç¢°åˆ°å‚ä¸ä»‹è´¨æ—¶ä¼šå‘ç”Ÿå‡ ç§ä¸åŒæ•£å°„ç°è±¡çš„è¡Œä¸º:   * å‡ºå°„æ•£å°„ï¼ˆOut-Scatteringï¼‰ å‡ºå°„æ•£å°„ä¹Ÿå°±æ˜¯å…‰å­ç¢°åˆ°ç©ºæ°”ä¸­çš„åˆ†å­åï¼ŒåŸæœ¬è¦å°„å‘æ‘„åƒæœº"><meta property="og:type" content="article"><meta property="og:title" content="å¤§æ°”æ•£å°„ ( Atmosphere Scattering)"><meta property="og:url" content="http://xianlongok.site/2022/05/05/atmosphere-scatter/index.html"><meta property="og:site_name" content="åä¸‰çš„blog"><meta property="og:description" content="å¤§æ°”æ•£å°„ä»‹ç» å½“ä½ çœ‹åˆ°è“å¤©ç™½äº‘ï¼Œæ—¥è½é»„æ˜ï¼Œæˆ–è€…ä»å¤ªç©ºé¥æœ›åœ°çƒï¼Œåœ°çƒå‘¨å›´ä¸€åœˆè“è‰²å…‰æ™•ï¼Œæœ‰æ²¡æœ‰æƒ³è¿‡è¿™äº›ç°è±¡äº§ç”Ÿçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿè¿™äº›ç‰©ç†ç°è±¡ç”¨ä¸€å¥è¯è§£é‡Šï¼šå¤ªé˜³å…‰ä¸å¤§æ°”å±‚ä¸­çš„å‚ä¸ä»‹è´¨å‘ç”Ÿäº†å¤§æ°”æ•£å°„ç°è±¡ï¼Œä»è€Œå½¢æˆäº†å¤©ç©ºé¢œè‰²    æ•£å°„ å…‰æºçš„è¾å°„æ²¿ç€è·¯å¾„å‰è¡Œæ—¶ï¼Œç¢°åˆ°å‚ä¸ä»‹è´¨æ—¶ä¼šå‘ç”Ÿå‡ ç§ä¸åŒæ•£å°„ç°è±¡çš„è¡Œä¸º:   * å‡ºå°„æ•£å°„ï¼ˆOut-Scatteringï¼‰ å‡ºå°„æ•£å°„ä¹Ÿå°±æ˜¯å…‰å­ç¢°åˆ°ç©ºæ°”ä¸­çš„åˆ†å­åï¼ŒåŸæœ¬è¦å°„å‘æ‘„åƒæœº"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/atmosphere_intro.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/disney_1.jpeg"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering01.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering_02.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering05.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering_06a.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering_08a.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering_07.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering_06a.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering_9.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/rayleigh.svg"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/rayleigh_rgb.svg"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/rayleigh_co.webp"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/rayleigh.svg"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/mie.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/mie_g.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering_06a.png"><meta property="og:image" content="http://xianlongok.site/images/atmosphere_scatter/scattering_08b.png"><meta property="article:published_time" content="2022-05-05T12:35:31.000Z"><meta property="article:modified_time" content="2022-05-06T00:45:16.344Z"><meta property="article:author" content="å°è´¤"><meta property="article:tag" content="Atmosphere"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://xianlongok.site/images/atmosphere_scatter/atmosphere_intro.png"><link rel="canonical" href="http://xianlongok.site/2022/05/05/atmosphere-scatter/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://xianlongok.site/2022/05/05/atmosphere-scatter/","path":"2022/05/05/atmosphere-scatter/","title":"å¤§æ°”æ•£å°„ ( Atmosphere Scattering)"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>å¤§æ°”æ•£å°„ ( Atmosphere Scattering) | åä¸‰çš„blog</title><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}</style><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">åä¸‰çš„blog</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">å®‰å¿ƒå­¦æŠ€æœ¯</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li><li class="menu-item menu-item-guestbook"><a href="/guestbook/" rel="section"><i class="fa fa-book fa-fw"></i>ç•™è¨€æ¿</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>ç«™ç‚¹åœ°å›¾</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="æœç´¢..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">æ–‡ç« ç›®å½•</li><li class="sidebar-nav-overview">ç«™ç‚¹æ¦‚è§ˆ</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%A7%E6%B0%94%E6%95%A3%E5%B0%84%E4%BB%8B%E7%BB%8D"><span class="nav-number">1.</span> <span class="nav-text">å¤§æ°”æ•£å°„ä»‹ç»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%A3%E5%B0%84"><span class="nav-number">2.</span> <span class="nav-text">æ•£å°„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%A7%E6%B0%94%E6%95%A3%E5%B0%84%E6%A8%A1%E5%9E%8B"><span class="nav-number">3.</span> <span class="nav-text">å¤§æ°”æ•£å°„æ¨¡å‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%8F%E5%B0%84%E5%87%BD%E6%95%B0"><span class="nav-number">3.1.</span> <span class="nav-text">é€å°„å‡½æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%A3%E5%B0%84%E5%87%BD%E6%95%B0s%CE%BB%CE%B8h"><span class="nav-number">3.2.</span> <span class="nav-text">æ•£å°„å‡½æ•°ï¼šS(Î»,Î¸,h)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%A3%E5%B0%84-1"><span class="nav-number">3.3.</span> <span class="nav-text">æ•£å°„</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#rayleigh-%E6%95%A3%E5%B0%84"><span class="nav-number">3.3.1.</span> <span class="nav-text">Rayleigh æ•£å°„</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rayleigh-%E6%95%A3%E5%B0%84%E7%B3%BB%E6%95%B0"><span class="nav-number">3.3.2.</span> <span class="nav-text">Rayleigh æ•£å°„ç³»æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rayleigh-%E7%9B%B8%E4%BD%8D%E5%87%BD%E6%95%B0"><span class="nav-number">3.3.3.</span> <span class="nav-text">Rayleigh ç›¸ä½å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mie-%E6%95%A3%E5%B0%84"><span class="nav-number">3.3.4.</span> <span class="nav-text">Mie æ•£å°„</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mie-%E6%95%A3%E5%B0%84%E7%B3%BB%E6%95%B0"><span class="nav-number">3.3.5.</span> <span class="nav-text">Mie æ•£å°„ç³»æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#mie-%E6%95%A3%E5%B0%84%E7%9B%B8%E4%BD%8D%E5%87%BD%E6%95%B0"><span class="nav-number">3.3.6.</span> <span class="nav-text">Mie æ•£å°„ç›¸ä½å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%B0%E5%87%8F%E7%B3%BB%E6%95%B0-textcolorgreent"><span class="nav-number">3.3.7.</span> <span class="nav-text">è¡°å‡ç³»æ•° \(\textcolor{Green}{T}\)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">3.4.</span> <span class="nav-text">æ€»ç»“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86"><span class="nav-number">3.5.</span> <span class="nav-text">æ•°å€¼ç§¯åˆ†</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">4.</span> <span class="nav-text">å‚è€ƒèµ„æ–™</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="å°è´¤" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">å°è´¤</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">13</span> <span class="site-state-item-name">æ—¥å¿—</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">8</span> <span class="site-state-item-name">åˆ†ç±»</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">æ ‡ç­¾</span></a></div></nav></div><div class="links-of-author site-overview-item animated"><span class="links-of-author-item"><a href="https://github.com/qq317423892" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;qq317423892" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:xianlongok@163.com" title="E-Mail â†’ mailto:xianlongok@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a></span></div><div class="links-of-blogroll site-overview-item animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://scorpioq.github.io/" title="https:&#x2F;&#x2F;scorpioq.github.io&#x2F;" rel="noopener" target="_blank">ScorpioQ</a></li></ul></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨"><i class="fa fa-arrow-up"></i> <span>0%</span></div><div class="reading-progress-bar"></div><a href="https://github.com/qq317423892" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://xianlongok.site/2022/05/05/atmosphere-scatter/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="å°è´¤"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="åä¸‰çš„blog"><meta itemprop="description" content=""></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="å¤§æ°”æ•£å°„ ( Atmosphere Scattering) | åä¸‰çš„blog"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">å¤§æ°”æ•£å°„ ( Atmosphere Scattering)</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2022-05-05 20:35:31" itemprop="dateCreated datePublished" datetime="2022-05-05T20:35:31+08:00">2022-05-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-05-06 08:45:16" itemprop="dateModified" datetime="2022-05-06T08:45:16+08:00">2022-05-06</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">åˆ†ç±»äº</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Graphics/" itemprop="url" rel="index"><span itemprop="name">Graphics</span></a> </span></span><span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valineï¼š</span> <a title="valine" href="/2022/05/05/atmosphere-scatter/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2022/05/05/atmosphere-scatter/" itemprop="commentCount"></span> </a></span><span class="post-meta-break"></span> <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span> <span>8k</span> </span><span class="post-meta-item" title="é˜…è¯»æ—¶é•¿"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span> <span>7 åˆ†é’Ÿ</span></span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="å¤§æ°”æ•£å°„ä»‹ç»">å¤§æ°”æ•£å°„ä»‹ç»</h2><p>å½“ä½ çœ‹åˆ°è“å¤©ç™½äº‘ï¼Œæ—¥è½é»„æ˜ï¼Œæˆ–è€…ä»å¤ªç©ºé¥æœ›åœ°çƒï¼Œåœ°çƒå‘¨å›´ä¸€åœˆè“è‰²å…‰æ™•ï¼Œæœ‰æ²¡æœ‰æƒ³è¿‡è¿™äº›ç°è±¡äº§ç”Ÿçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿè¿™äº›ç‰©ç†ç°è±¡ç”¨ä¸€å¥è¯è§£é‡Šï¼šå¤ªé˜³å…‰ä¸å¤§æ°”å±‚ä¸­çš„å‚ä¸ä»‹è´¨å‘ç”Ÿäº†å¤§æ°”æ•£å°„ç°è±¡ï¼Œä»è€Œå½¢æˆäº†å¤©ç©ºé¢œè‰²</p><p><img src="/images/atmosphere_scatter/atmosphere_intro.png" width="100%" height="100%"></p><h2 id="æ•£å°„">æ•£å°„</h2><p>å…‰æºçš„è¾å°„æ²¿ç€è·¯å¾„å‰è¡Œæ—¶ï¼Œç¢°åˆ°å‚ä¸ä»‹è´¨æ—¶ä¼šå‘ç”Ÿå‡ ç§ä¸åŒæ•£å°„ç°è±¡çš„è¡Œä¸º:</p><ul><li><p>å‡ºå°„æ•£å°„ï¼ˆOut-Scatteringï¼‰ å‡ºå°„æ•£å°„ä¹Ÿå°±æ˜¯å…‰å­ç¢°åˆ°ç©ºæ°”ä¸­çš„åˆ†å­åï¼ŒåŸæœ¬è¦å°„å‘æ‘„åƒæœºçš„å…‰çº¿å‘ç”Ÿäº†åè½¬ï¼Œå…‰çº¿çš„æ–¹å‘æ”¹å˜äº†</p><div data-align="center"><img src="/images/atmosphere_scatter/scattering01.png" width="50%" height="50%"></div></li><li><p>å…¥å°„æ•£å°„ï¼ˆIn-Scatteringï¼‰ å…¥å°„æ•£å°„ä¸å‡ºå°„æ•£å°„ç›¸åï¼Œæœ¬æ¥ä¸æŒ‡å‘ç›¸æœºçš„å…‰çº¿ä¹Ÿå¯èƒ½è¢«åè½¬åˆ°ç›¸æœºçš„æ–¹å‘ï¼Œè¿™å°±æ˜¯å…¥å°„æ•£å°„ã€‚</p><div data-align="center"><img src="/images/atmosphere_scatter/scattering_02.png" width="50%" height="50%"></div></li></ul><p>æ ¹æ®ç²’å­å¤§å°ä¸åŒå¯åˆ†ä¸º<strong>ç‘åˆ©æ•£å°„ï¼ˆRayleigh Scatteringï¼‰</strong> å’Œ <strong>ç±³æ°æ•£å°„ï¼ˆMie Scatteringï¼‰</strong> &gt; å…‰ç¢°åˆ°ä¸åŒå¤§å°ç²’å­åå‘ç”Ÿæ•£å°„ï¼Œä¸åŒæ–¹å‘ä¸Šçš„å…‰å¼ºå¦‚ä¸‹å›¾ï¼Œç®­å¤´é•¿åº¦è¡¨ç¤ºå…‰çº¿å¼ºå¼±ï¼Œç®­å¤´è¶Šé•¿ï¼Œå…‰çº¿è¶Šå¼ºã€‚</p><div data-align="center"><p><img src="/images/atmosphere_scatter/scattering05.png" width="80%" height="80%"></p></div><h2 id="å¤§æ°”æ•£å°„æ¨¡å‹">å¤§æ°”æ•£å°„æ¨¡å‹</h2><p>å¤§æ°”æ•£å°„æ¨¡å‹åˆ†ä¸ºä¸¤ç§ï¼šSingle Scatteringå’ŒMulti Scatteringã€‚</p><ul><li><p>Single Scattering å³åªè€ƒè™‘å¤ªé˜³å…‰ç»è¿‡ä¸€æ¬¡æ•£å°„åæŠµè¾¾æˆ‘ä»¬çš„çœ¼ç›ã€‚</p></li><li><p>Multi Scatteringï¼Œè€ƒè™‘å…‰çº¿å¤šæ¬¡æ•£å°„è¿‡ç¨‹çš„æ¨¡å‹ã€‚æ˜¾ç„¶è¿™æ›´ç¬¦åˆç°å®ä¸–ç•Œçš„æƒ…å†µï¼Œä½†ä¸‹ä¸€çº§çš„æ•£å°„å–å†³äºä¸ä¸Šä¸€çº§æ•£å°„çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªé€’å½’æ–¹ç¨‹ï¼Œå®ç°èµ·æ¥å¹¶ä¸å¤ªå®¹æ˜“ã€‚</p></li></ul><blockquote><p>ç”±äºç¬¬äºŒæ¬¡æ•£å°„ä»¥ä¸Šçš„èƒ½é‡è¾ƒå°‘ï¼Œå¯¹æœ€ç»ˆè§†è§‰çš„å½±å“ç¨‹åº¦æœ‰é™ï¼Œæ‰€ä»¥ç›®å‰Single Scattering è¿˜æ˜¯ä¸€ç§ç›¸å¯¹å®ç°ç®€å•æ•ˆæœä¹Ÿä¸ä¼šå·®å¾ˆå¤šçš„æ¨¡å‹ï¼Œè¿™é‡Œä¹Ÿä¸»è¦ä»‹ç» Single Scatteringã€‚</p></blockquote><p>å› æ­¤å•æ¬¡æ•£å°„å¤§æ°”æ¨¡å‹æ±‚è§£é—®é¢˜å¦‚ä¸‹ï¼š æˆ‘ä»¬ä»è·¯å¾„ AB è§‚å¯Ÿå¤§æ°”ï¼Œå¹¶ä¸”æ±‚è§£ B ç‚¹çš„å¤§æ°”é¢œè‰²ï¼Œå…‰çº¿åœ¨å¤§æ°”ä¸­åªå‘ç”Ÿä¸€æ¬¡æ•£å°„ï¼Œæ•£å°„ç‚¹ä¸º Pï¼š</p><div data-align="center"><p><img src="/images/atmosphere_scatter/scattering_06a.png" width="50%" height="50%"></p></div><p>å®é™…ä¸Šåœ¨è·¯å¾„ AB ä¸Šæœ‰æ— æ•°ä¸ª P ç‚¹ï¼Œå› æ­¤æœ€ç»ˆæ±‚è§£æ˜¯å¯¹ AB è·¯å¾„ä¸Šæ¯ä¸€ä¸ªç‚¹çš„å…‰ç…§è´¡çŒ®è¿›è¡Œç´¯åŠ (æ±‚ç§¯åˆ†)</p><div data-align="center"><p><img src="/images/atmosphere_scatter/scattering_08a.png" width="50%" height="50%"></p></div><p>å› æ­¤æ•´ä¸ªæ¨¡å‹å¯ä»¥åˆ†è§£æˆå¦‚ä¸‹é—®é¢˜ï¼š</p><ul><li>P ç‚¹å…‰ç…§ ï¼šå…‰çº¿ç©¿è¿‡å¤§æ°”ä¼šè¡°å‡ï¼Œåˆ°è¾¾ P ç‚¹åçš„å…‰ç…§å¼ºåº¦ã€‚</li><li>å…‰çº¿åœ¨ P æ•£å°„ï¼šè¿›å…¥ç›¸æœºæ–¹å‘çš„å…‰ç…§ï¼Œå³å…¥å°„æ•£å°„éƒ¨åˆ†</li><li>ç´¯åŠ æ‰€æœ‰ P ç‚¹å…‰ç…§</li></ul><h3 id="é€å°„å‡½æ•°">é€å°„å‡½æ•°</h3><p>ä¸ºäº†è®¡ç®—æ•£å°„ç‚¹çš„å…‰ç…§ï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘å¦‚ä¸‹ä¸€æ®µå…‰çº¿ï¼š</p><div data-align="center"><p><img src="/images/atmosphere_scatter/scattering_07.png" width="50%" height="50%"></p></div><ul><li>å…‰çº¿ä»å¤ªé˜³ä¼ åˆ° Cï¼Œæ­¤æ—¶æ˜¯çœŸç©ºï¼Œæ‰€ä»¥æ²¡æœ‰æŸå¤±ï¼Œæˆ‘ä»¬ç”¨ <span class="math inline">\(I_C\)</span> æŒ‡ä»£ C ç‚¹çš„å…‰å¼º</li><li>åœ¨ä» C ç‚¹åˆ° P ç‚¹çš„è¿‡ç¨‹åœ¨ä¸­ï¼Œç»è¿‡ CP è·¯å¾„è¡°å‡ï¼Œæˆ‘ä»¬ç”¨ <span class="math inline">\(I_P\)</span> æŒ‡ä»£ P ç‚¹çš„å…‰å¼º</li><li><span class="math inline">\(I_P\)</span> æ¯” <span class="math inline">\(I_C\)</span> çš„å€¼å°±æ˜¯ <strong>é€å°„ç‡(Transimittance)</strong> :<span class="math inline">\(T (CP) = \frac{I_P}{I_C}\)</span></li></ul><p>P ç‚¹çš„å…‰å¼ºä¹Ÿå°±æ˜¯: <span class="math display">\[I_P = I_C * \textcolor{Green}{T(CP)}\]</span></p><p>å…¶ä¸­ï¼Œ<strong>Té¡¹</strong>æ˜¯<strong>è¡°å‡ç³»æ•°ï¼ˆTransmittanceï¼‰</strong>ï¼Œå®ƒè¡¨ç¤ºåœ¨æŸæ®µè·¯å¾„ä¸Šçš„å¯¹å…‰ç…§çš„è¡°å‡ç¨‹åº¦ã€‚è¯¥å…¬å¼ä¹Ÿå¯ä»¥è¢«è®¤ä¸ºæ˜¯<strong>é›¶çº§æ•£å°„ï¼ˆzero scatteringï¼‰</strong>ï¼Œå³ä¸è€ƒè™‘ä»»ä½•æ•£å°„äº‹ä»¶ã€ç›´æ¥è€ƒè™‘ç»è¿‡è¡°å‡åå…‰å¼ºã€‚</p><h3 id="æ•£å°„å‡½æ•°sÎ»Î¸h">æ•£å°„å‡½æ•°ï¼šS(Î»,Î¸,h)</h3><p>Pç‚¹åœ¨æ¥å—å…‰ç…§åï¼Œä¼šå› ä¸ºæ•£å°„åè½¬ä¸€éƒ¨åˆ†ï¼Œäºæ˜¯æˆ‘ä»¬éœ€è¦æ•£å°„å‡½æ•° <span class="math inline">\(S(\lambda,\theta,h)\)</span> æ¥è¡¨ç¤ºæŸä¸€æ–¹å‘ä¸Šå…‰çº¿çš„åè½¬æƒ…å†µã€‚å¦‚ä¸‹å›¾ï¼Œé‚£äº›åè½¬äº† <span class="math inline">\(\theta\)</span> è§’çš„å…‰çº¿æ‰èƒ½è¢«æŒ‡å‘Aç‚¹çš„æ‘„åƒæœº:</p><div data-align="center"><p><img src="/images/atmosphere_scatter/scattering_06a.png" width="50%" height="50%"></p></div><p>äºæ˜¯æˆ‘ä»¬å¯ä»¥å¾—å‡ºä» P ç‚¹å‡ºå‘åˆ° A ç‚¹çš„å…‰å¼ºï¼š</p><p><span class="math display">\[I_{PA}=\boxed{I_P}\textcolor{DarkRed}{S(\lambda,\theta,h)} \textcolor{Green}{T(PA)} \]</span></p><p>ä»å…¬å¼ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ•£å°„è·Ÿè§’åº¦ <span class="math inline">\(\theta\)</span>ã€å…‰çº¿æ³¢é•¿ <span class="math inline">\(\lambda\)</span> ä»¥åŠ <span class="math inline">\(P\)</span> ç‚¹é«˜åº¦ <span class="math inline">\(h\)</span> æœ‰å…³ç³»ã€‚</p><h3 id="æ•£å°„-1">æ•£å°„</h3><p>æ•£å°„ç³»æ•°å’Œç²’å­çš„å¤§å°å’ŒæŠ˜å°„ç‡æœ‰å…³ï¼Œè¿™é‡Œå°±å¾—è§£é‡Šä¸€ä¸‹å¤§æ°”ç²’å­çš„åˆ†ç±»ã€‚æˆ‘ä»¬çŸ¥é“å¤§æ°”ä¸­æœ‰å¾ˆå¤šä¸åŒç§ç±»çš„å¤§æ°”åˆ†å­/ç²’å­ï¼Œä¸€èˆ¬åœ¨å¤§æ°”æ¸²æŸ“æ¨¡å‹é‡ŒæŠŠå®ƒä»¬åˆ†æˆä¸¤å¤§ç±»ã€‚ä¸€ç§æ˜¯å°åˆ†å­ï¼Œä¾‹å¦‚æ°®æ°”å’Œæ°§æ°”åˆ†å­ç­‰ï¼Œå¦ä¸€ç§æ˜¯å¤§ç²’å­ï¼Œä¾‹å¦‚å„ç§å°˜åŸƒç²’å­ã€‚ä¹‹æ‰€ä»¥è¦è¿›è¡Œåˆ†ç±»æ˜¯å› ä¸ºå®ƒä»¬å¯¹å…‰çº¿æœ‰ç€ä¸ä¸€æ ·çš„è¡Œä¸ºï¼ˆè¿™é‡Œå¿½ç•¥å¯¹å…‰çš„å¸æ”¶ï¼Œåªè€ƒè™‘æ•£å°„ï¼‰ï¼š</p><ul><li>å°åˆ†å­ï¼šæŒ‡å¤§å°è¿œå°äºå…‰çº¿æ³¢é•¿çš„ç²’å­ã€‚å°åˆ†å­å¯¹å…‰çš„æ•£å°„åœ¨å‰åæ–¹å‘ä¸Šåˆ†å¸ƒæ¯”è¾ƒå‡åŒ€ï¼Œé€šå¸¸ä¼šä½¿ç”¨ <strong>Rayleighæ•£å°„ï¼ˆRayleigh Scatteringï¼‰</strong> å¯¹å®ƒä»¬è¿›è¡Œå»ºæ¨¡ã€‚ç”±äºè¿™äº›åˆ†å­å¤§å°æ¯”æ³¢é•¿è¿˜è¦å°å¾ˆå¤šï¼Œå› æ­¤å…‰çš„<strong>æ³¢é•¿</strong>ä¹Ÿä¼šå½±å“ Rayleigh æ•£å°„çš„ç¨‹åº¦ã€‚</li><li>å¤§ç²’å­ï¼šæŒ‡å¤§å°è¿œå¤§äºå…‰çº¿æ³¢é•¿çš„ç²’å­ã€‚å¤§ç²’å­åœ¨å‘ç”Ÿæ•£å°„çš„æ—¶å€™ä¼šæŠŠæ›´å¤šçš„å…‰æ•£å°„åˆ°å‰å‘ï¼Œé€šå¸¸ä¼šä½¿ç”¨ <strong>Mieæ•£å°„ï¼ˆMie Scatteringï¼‰</strong> å¯¹å®ƒä»¬è¿›è¡Œå»ºæ¨¡ã€‚ç”±äºå…‰çš„æ³¢é•¿ç›¸è¾ƒäºè¿™äº›ç²’å­å¤§å°æ¥è¯´æ˜¯å¯ä»¥å¿½ç•¥çš„ï¼Œå› æ­¤æˆ‘ä»¬è®¤ä¸º Mie æ•£å°„è·Ÿå…‰çº¿<strong>æ³¢é•¿æ— å…³</strong>ã€‚</li></ul><h4 id="rayleigh-æ•£å°„">Rayleigh æ•£å°„</h4><p>å¯¹äºè¶³å¤Ÿå°çš„ç²’å­ï¼Œå…‰çº¿åœ¨æ’å‡»å®ƒåä¼šç»å†ä»€ä¹ˆï¼Ÿæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ç‘åˆ©æ•£å°„æ¥å»ºæ¨¡ã€‚</p><div data-align="center"><p><img src="/images/atmosphere_scatter/scattering_9.png" width="50%" height="50%"></p></div><p>Rayleigh æ•£å°„æ›²çº¿å›¾å¦‚ä¸‹ï¼š</p><div data-align="center"><p><img src="/images/atmosphere_scatter/rayleigh.svg" width="50%" height="50%"></p></div><p>æ•£å°„å‡½æ•°å¦‚ä¸‹ï¼Œè¿™ä¸ªæ–¹ç¨‹å¹¶ä¸æ˜¯çœŸæ­£çš„Rayleighæ•£å°„æ–¹ç¨‹ï¼Œä½ å»ç»´åŸºç™¾ç§‘é‡Œé¢æŸ¥ï¼Œä¼šå‘ç°å¦å¤–ä¸€ä¸ªå…¬å¼ï¼Œè¿™ä¸ªå…¬å¼æ¥è‡ª<a target="_blank" rel="noopener" href="http://nishitalab.org/user/nis/cdrom/sig93_nis.pdf">è¿™ç¯‡è®ºæ–‡</a>ï¼š</p><p><span class="math display">\[\textcolor{DarkRed}{S(\lambda,\theta,h)} = \frac{\pi^2(n^2-1)^2}{2}\frac{\textcolor{Gold}{\rho(h)}}{N}\frac{1}{\lambda^4}(1+cos\theta^2)\]</span></p><p>å…¶ä¸­ï¼Œ</p><ul><li><strong><span class="math inline">\(\lambda\)</span></strong> æ˜¯å…‰çš„æ³¢é•¿</li><li><strong><span class="math inline">\(n=1.00029\)</span></strong> æ˜¯ç²’å­æŠ˜å°„ç‡</li><li><strong><span class="math inline">\(N=2.504*10^{25}\)</span></strong> æ˜¯æµ·å¹³é¢å¤„çš„å¤§æ°”å¯†åº¦ï¼Œå•ä½æ˜¯ åˆ†å­æ•°/ç«‹æ–¹ç±³</li><li><strong><span class="math inline">\(\rho(h)\)</span></strong> æ˜¯é«˜åº¦ <strong><span class="math inline">\(h\)</span></strong> å¤„çš„ç›¸å¯¹å¤§æ°”å¯†åº¦ï¼ˆå³ç›¸å¯¹äºæµ·å¹³é¢çš„å¯†åº¦ï¼Œå¯ä»¥ç†è§£æˆ <strong><span class="math inline">\(h\)</span></strong> å¤„çœŸæ­£çš„å¤§æ°”å¯†åº¦ä¸æµ·å¹³é¢å¤„å¤§æ°”å¯†åº¦çš„æ¯”å€¼ï¼Œå› æ­¤å®ƒåœ¨æµ·å¹³é¢å¤„å€¼ä¸º 1ï¼Œéšç€ <strong><span class="math inline">\(h\)</span></strong> å¢åŠ ä¸æ–­å‡å°ï¼‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨æŒ‡æ•°å‡½æ•°å¯¹å®ƒçš„çœŸå®æ›²çº¿è¿›è¡Œæ•°å­¦æ‹Ÿåˆï¼ˆæ˜¯ä¸€ç§è¿‘ä¼¼æ‹Ÿåˆï¼Œä¸è¦å’Œåé¢æåˆ°çš„æŒ‡æ•°å‡½æ•°å¼„æ··ï¼‰ï¼š</li></ul><p><span class="math display">\[\textcolor{Gold}{\rho(h)}=exp(-\frac{h}{H})\]</span></p><p>å…¶ä¸­ <strong>H</strong> ä¸ºâ€scale heightâ€œï¼Œç›¸å½“äºæ˜¯ä¸€ä¸ªåŸºå‡†çš„é«˜åº¦ã€‚ å¯¹äº Rayleigh æ¥è¯´ï¼Œ<strong>H= 8500ç±³</strong>ã€‚ å¯¹äº Mie æ¥è¯´ï¼Œ<strong>H = 1200ç±³</strong>ã€‚</p><p>å¯ä»¥çœ‹å‡ºRayleighæ•£å°„å¤§è‡´å’Œæ³¢é•¿çš„4æ¬¡å¹‚çš„æˆåæ¯”ï¼Œæ³¢é•¿è¶Šå°ï¼ˆè¶Šé è¿‘ç´«å…‰ï¼‰çš„å…‰è¢«æ•£å°„å¾—è¶Šå‰å®³ã€‚æ‰€ä»¥ç™½å¤©çš„æ—¶å€™å¤©ç©ºä¸ºè“è‰²ï¼Œå› ä¸ºè“å…‰åœ¨å¤§æ°”é‡Œä¸æ–­è¢«æ•£å°„ï¼Œé»„æ˜çš„æ—¶å€™å¤©ç©ºä¼šå˜çº¢ï¼Œå› ä¸ºç›¸æ¯”äºç™½å¤©ï¼Œé˜³å…‰æ­¤æ—¶è¦ç©¿è¶Šæ›´åšå¾—å¤šçš„å¤§æ°”å±‚ï¼Œåœ¨åˆ°è¾¾äººçœ¼ä¹‹å‰ï¼Œå¤§å¤šæ•°è“å…‰éƒ½è¢«æ•£å°„åˆ°å…¶ä»–æ–¹å‘ï¼Œæ‰€ä»¥å‰©ä¸‹æ¥çš„å°±æ˜¯çº¢å…‰äº†ã€‚</p><div data-align="center"><p><img src="/images/atmosphere_scatter/rayleigh_rgb.svg" width="80%" height="80%"></p></div><h4 id="rayleigh-æ•£å°„ç³»æ•°">Rayleigh æ•£å°„ç³»æ•°</h4><p>Rayleigh æ•£å°„çš„å…¬å¼ <span class="math inline">\(S(\lambda,\theta,h)\)</span> è¡¨ç¤ºåœ¨æŸä¸ªç‰¹å®šæ–¹å‘ä¸Šçš„å…‰å¼ºåº¦ï¼Œè¦æ±‚æ€»æ•£å°„ç³»æ•°å°±éœ€è¦å¯¹æ•£å°„å‡½æ•°åšçƒé¢ç§¯åˆ†ï¼š</p><div data-align="center"><p><img src="/images/atmosphere_scatter/rayleigh_co.webp" width="50%" height="50%"></p></div><blockquote><p>çƒé¢ç§¯åˆ†ç¤ºæ„å›¾ï¼Œè¿™é‡Œå‡å®š r ç­‰äº 1ï¼Œå¯¹çƒé¢ç§¯åˆ†æ—¶ï¼Œå› ä¸º <span class="math inline">\(d\theta\)</span> è·Ÿ <span class="math inline">\(d\phi\)</span> éå¸¸å°ï¼Œå› æ­¤çƒé¢å¯ä»¥çœ‹æˆæ˜¯çŸ©å½¢ï¼Œå› æ­¤è“è‰²æ¡†é•¿åº¦ä¸º <span class="math inline">\(w=rsin\theta d\phi\)</span> <strong>ï¼ˆå¼¦é•¿å…¬å¼ï¼šè“è‰²é¢ç‰‡ä¸Šè¾¹ç¼˜åŠå¾„ <span class="math inline">\(rsin\theta\)</span>ï¼Œè§’åº¦ <span class="math inline">\(d\phi\)</span>ï¼‰</strong>ï¼Œé«˜ä¸º <span class="math inline">\(d\theta\)</span>ï¼Œåˆ™é¢ç§¯ <span class="math inline">\(S=rsin\theta d\phi d\theta\)</span></p></blockquote><p>å› æ­¤ï¼š</p><p><span class="math display">\[\beta(\lambda, h) = \int_{0}^{2\pi}{\int_{0}^{\pi}{S(\lambda,\theta,h)}sin\theta d\theta d\phi}\]</span></p><p>æœ€åå¾—å‡ºï¼š</p><p><span class="math display">\[\beta(\lambda, h) = \frac{8\pi^3(n^2-1)^2}{3}\frac{\textcolor{Gold}{\rho(h)}}{N}\frac{1}{\lambda^4}\]</span></p><p>ç‰¹åˆ«åœ°ï¼Œå½“ <span class="math inline">\(h=0\)</span> æ—¶ï¼Œå³è¡¨ç¤ºæµ·å¹³é¢çš„æ•£å°„ç³»æ•°ï¼š</p><p><span class="math display">\[ \beta(\lambda, 0) = \frac{8\pi^3(n^2-1)^2}{3} \frac{ \textcolor{Gold}{1} }{N} \frac{1}{\lambda^4} \]</span></p><p>ä¸¾ä¾‹æ¥è¯´å°±ï¼Œå¯¹äºçº¢ç»¿è“çš„æ³¢é•¿ï¼Œåœ¨æµ·å¹³é¢æ—¶ï¼Œå¯ä»¥å¾—å‡ºè¿™äº›ç»“æœï¼š</p><p><span class="math display">\[\begin{aligned} \beta(\textcolor{Red}{680nm}) &amp;= 5.2*10^{-6} \\ \beta(\textcolor{Green}{550nm}) &amp;= 12.1*10^{-6} \\ \beta(\textcolor{Blue}{440nm}) &amp;= 29.6*10^{-6} \end{aligned}\]</span></p><blockquote><p>æœ‰äº›åšå®¢è·Ÿè®ºæ–‡é‡Œè®¡ç®—ç»“æœå¦‚ä¸‹: <span class="math inline">\(\beta_rrgb=(5.8, 13.5, 33.1) \cdot 10^{-6}\)</span>ï¼Œ<span class="math inline">\(n=1.0003ï¼ŒN=2.545\cdot10^{25}\)</span></p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; 8*math.pi**3*(1.00029**2-1)**2/3.0/(2.504e25)/((680e-9)**4)</span><br><span class="line">5.196731735928312e-06</span><br><span class="line">&gt;&gt;&gt; 8*math.pi**3*(1.00029**2-1)**2/3.0/(2.504e25)/((550e-9)**4)</span><br><span class="line">1.2142697926864656e-05</span><br><span class="line">&gt;&gt;&gt; 8*math.pi**3*(1.00029**2-1)**2/3.0/(2.504e25)/((440e-9)**4)</span><br><span class="line">2.964525861050941e-05</span><br></pre></td></tr></table></figure><p>æ€»æ•£å°„ç³»æ•°å…¬å¼ä¹Ÿå¯ä»¥æ‹†è§£ä¸ºï¼š</p><p><span class="math display">\[\beta(\lambda, h) = \frac{8\pi^3(n^2-1)^2}{3}\frac{\textcolor{Gold}{\rho(h)}}{N}\frac{1}{\lambda^4}=\beta(\lambda) \textcolor{Gold}{\rho(h)}\]</span></p><p>å…¶ä¸­ï¼š</p><p><span class="math display">\[\beta(\lambda) = \frac{8\pi^3(n^2-1)^2}{3}\frac{1}{N}\frac{1}{\lambda^4}\]</span></p><h4 id="rayleigh-ç›¸ä½å‡½æ•°">Rayleigh ç›¸ä½å‡½æ•°</h4><p>Rayleigh æ•£å°„çš„åŸæ–¹ç¨‹å¯ä»¥åˆ†è§£æˆä¸¤ä¸ªåˆ†é‡ï¼Œä¸€ä¸ªæ˜¯ä¸Šé¢çš„æœ‰å…³èƒ½é‡å¼ºåº¦çš„æ•£å°„ç³»æ•°ï¼Œå¦ä¸€ä¸ªåˆ†é‡åˆ™å’Œå®ƒå‡ ä½•å½¢çŠ¶æœ‰å…³</p><p><span class="math display">\[S(\lambda,\theta,h)=\beta(\lambda, h)\underbrace{\gamma(\theta)}_{geometry}\]</span></p><p><span class="math inline">\(\gamma(\theta)\)</span> å¯ä»¥ç”¨å‰ä¸¤è€…ä¹‹æ¯”å¾—åˆ°ã€‚</p><p><span class="math display">\[\begin{aligned} \gamma(\theta) &amp;= \frac{S(\lambda,\theta,h)}{\beta(\lambda, h)}\\ &amp;=\frac{3}{16\pi}(1+cos^2\theta) \end{aligned}\]</span></p><p>è¯¥è¡¨è¾¾å¼ä¸ä¾èµ–æ³¢é•¿ï¼Œ<span class="math inline">\(\gamma(\theta)\)</span> çš„å‡½æ•°å›¾åƒå°±æ˜¯ä¹‹å‰ä¸¤ç“£çš„å¶æå­å½¢çŠ¶</p><div data-align="center"><p><img src="/images/atmosphere_scatter/rayleigh.svg" width="50%" height="50%"></p></div><blockquote><p>PS: æ•´ä¸ªæ•£å°„å‡½æ•°å¯ä»¥æ‹†åˆ†æˆ <span class="math inline">\(\textcolor{DarkRed}{S(\lambda,\theta,h)}= \textcolor{DodgerBlue}{ \beta(\lambda)} \textcolor{Gold}{\rho(h)} \textcolor{Purple}{\gamma(\theta)}\)</span></p></blockquote><h4 id="mie-æ•£å°„">Mie æ•£å°„</h4><p>å…‰çº¿çš„æ•£å°„æ˜¯å¾ˆå¤æ‚çš„ï¼Œç‘åˆ©æ•£å°„å¯¹åŸå­å’Œåˆ†å­å¯ä»¥æœ‰æ•ˆæ¨¡æ‹Ÿï¼Œä½†æ˜¯å¯¹å…‰çº¿å’Œå¤§ç‰©ä½“ï¼ˆæ°”æº¶èƒ¶ï¼‰çš„äº¤äº’æ²¡ä»€ä¹ˆä½œç”¨ã€‚</p><p>åœ°çƒå¤§æ°”å¸ƒæ»¡äº†æ°”æº¶èƒ¶ï¼Œæ‰€ä»¥ä»…æ˜¯ç‘åˆ©æ•£å°„æ˜¯ä¸è¶³ä»¥å¤ç°çš„ï¼Œä¸ºæ­¤å¸¸ç”¨çš„å°±æ˜¯ <strong>ç±³æ°æ•£å°„ï¼ˆMie scatteringï¼‰</strong>ï¼Œè¿™ç§æ•£å°„ç±»å‹å€¾å‘äºæ‰©æ•£å…‰çº¿ï¼Œè®©å…‰æºçœ‹èµ·æ¥æ¯”å®é™…å¤§ï¼Œä½†ä¸ä¼šæ”¹å˜å…‰çš„é¢œè‰²</p><h4 id="mie-æ•£å°„ç³»æ•°">Mie æ•£å°„ç³»æ•°</h4><p>ç±³æ°æ•£å°„æ˜¯éº¦å…‹æ–¯éŸ¦æ–¹ç¨‹ç»„çš„ä¸€ä¸ªè§£ï¼Œéº¦å…‹æ–¯éŸ¦æ–¹ç¨‹ç»„æè¿°äº†ç”µç£æ³¢çš„è¡¨ç°ã€‚ä¸€èˆ¬æ¥è¯´éƒ½æ˜¯ç”¨è¿‘ä¼¼çš„æ–¹ç¨‹æ¥æ¨¡æ‹Ÿ Mie æ•£å°„:</p><p><span class="math display">\[\beta_M(\lambda, h) = \frac{8\pi^3(n^2-1)^2}{3}\frac{\textcolor{Gold}{\rho(h)}}{N}\]</span></p><p>è·Ÿ Rayleigh æ•£å°„æ¯”ï¼Œå°±æ˜¯ç¼ºå°‘äº† <span class="math inline">\(\lambda\)</span> éƒ¨åˆ†ã€‚</p><h4 id="mie-æ•£å°„ç›¸ä½å‡½æ•°">Mie æ•£å°„ç›¸ä½å‡½æ•°</h4><p>çœŸå®çš„ Mie æ•£å°„ç›¸ä½å‡½æ•°å›¾åƒå¦‚ä¸‹ï¼š</p><div data-align="center"><p><img src="/images/atmosphere_scatter/mie.png" width="60%" height="60%"></p></div><p>å› æ­¤ Mie ç›¸ä½å‡½æ•°ä¹Ÿæ˜¯è¿‘ä¼¼æ–¹å¼å¾—å‡ºï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨Henyey-Greenstein å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨1941å¹´æå‡ºï¼š</p><p><span class="math display">\[\gamma_{HG}(\theta)=\frac{1}{4\pi}\frac{1-g^2}{(1+g^2-2gcos\theta)^\frac{3}{2}}\]</span></p><p>åœ¨ 1992 å¹´ Cornette å¯¹å…¶è¿›è¡Œäº†æ”¹è¿›ï¼š</p><p><span class="math display">\[\gamma_{M}(\theta)=\frac{3}{8\pi}\frac{1-g^2}{(2+g^2)}\frac{1+cos^2\theta}{(1+g^2-2gcos\theta)^\frac{3}{2}}\]</span></p><p>è¯¥å‡½æ•°å¼•å…¥äº†ä¸€ä¸ªå‚æ•° <span class="math inline">\(gï¼ˆ-1ï¼œgï¼œ1ï¼‰\)</span>ï¼Œå†³å®šäº†å‰åæ•£å°„çš„ç›¸å¯¹å¼ºåº¦ï¼Œä»£è¡¨æ•£å°„æ–¹å‘çš„å¹³å‡ä½™å¼¦ã€‚æ­£çš„ <span class="math inline">\(g\)</span> å€¼ä¼šå¢åŠ æ­£å‘æ•£å°„çš„å…‰é‡ï¼Œè´Ÿçš„ <span class="math inline">\(g\)</span> å€¼è¡¨ç¤ºå‘åæ•£å°„çš„å…‰é‡ã€‚ <span class="math inline">\(g=0\)</span> çš„å€¼å¯¼è‡´å„å‘åŒæ€§æ•£å°„ã€‚</p><div data-align="center"><p><img src="/images/atmosphere_scatter/mie_g.png" width="60%" height="60%"></p></div><p>å¯¹äºåœ°çƒå¤§æ°”å±‚ï¼Œä¸€èˆ¬å¯ä»¥å– <span class="math inline">\(g=0.758\)</span>ã€‚ç„¶åç”±äºä¸Šè¿°ä¸¤ä¸ªå‡½æ•°è®¡ç®—æˆæœ¬æ¯”è¾ƒé«˜ï¼Œå¿«é€Ÿåº”ç”¨å¯ä»¥ä½¿ç”¨ Schlick ç›¸ä½å‡½æ•°ï¼š</p><p><span class="math display">\[\lambda_S(\theta)=\frac{1}{4\pi}\frac{1-g^2}{(1+gcos\theta)^2}\]</span></p><h4 id="è¡°å‡ç³»æ•°-textcolorgreent">è¡°å‡ç³»æ•° <span class="math inline">\(\textcolor{Green}{T}\)</span></h4><p><span class="math inline">\(T(a,b)\)</span> è¡¨ç¤º <span class="math inline">\(a,b\)</span> ä¹‹é—´çš„é€å°„ç‡ï¼ˆtransmittanceï¼‰ï¼Œå…¶å®šä¹‰ä¸º<a href="#ref-anchor-9"><sup>9</sup></a>ï¼š</p><p><span class="math display">\[T(a,b)=exp(-\int_a^b\sigma_t(p)dl_p\]</span></p><p>å…¶ä¸­ <span class="math inline">\(\sigma_t\)</span> ä¸ºä»‹è´¨è¡°å‡ç³»æ•°ï¼Œ</p><ul><li><p>Rayleigh åœ¨å¤§æ°”ä¸­ï¼ŒRayleigh æ•£å°„å¯ä»¥ç”¨ Rayleigh theory è¿‘ä¼¼æè¿°ï¼š</p><p><span class="math inline">\(\sigma_RT(h,\lambda)=\beta(\lambda, h)\)</span></p></li></ul><p>å³ï¼š</p><p><span class="math display">\[\textcolor{Green}{T(PA)}=exp\{-\int_P^A{\textcolor{DodgerBlue}{\beta(\lambda, h)}}ds\}\]</span></p><p>å¸¦å…¥ä¹‹å‰æ±‚è§£çš„æ€»æ•£å°„ç³»æ•°å…¬å¼ï¼š <span class="math inline">\(\beta(\lambda,h)\)</span></p><p><span class="math display">\[\textcolor{Green}{T(PA)}=exp\{-\textcolor{DodgerBlue}{\beta(\lambda)}\int_P^A{\textcolor{Gold}{\rho(h)}}ds\}\]</span></p><p>å…¶ä¸­çš„ç§¯åˆ†é¡¹å¯¹åº”çš„æ˜¯è·¯å¾„é•¿åº¦ <span class="math inline">\(x\)</span>ï¼Œå¯ä»¥ç†è§£ä¸ºåœ¨å…‰ä¼ æ’­è·¯å¾„ä¸Šï¼Œå¯¹å¤§æ°”å¯†åº¦å‡½æ•° <span class="math inline">\(\textcolor{Gold}{\rho(h)}\)</span> æ±‚ç§¯åˆ†ï¼Œè¿™éƒ¨åˆ†è¢«ç§°ä¸º <strong>å…‰å­¦è·ç¦»â€”â€”Optical Depth</strong>ï¼š</p><p><span class="math display">\[\textcolor{Darkorange}{D(PA)}=\int_P^A{\textcolor{Gold}{\rho(h)}}ds\}\]</span></p><h3 id="æ€»ç»“">æ€»ç»“</h3><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ç®€å•æ¨å¯¼äº† <span class="math inline">\(S\)</span> è·Ÿ <span class="math inline">\(T\)</span>ï¼Œè¿™æ ·ä¸€å¼€å§‹çš„å…¬å¼å¯ä»¥å†™æˆï¼š</p><p><span class="math display">\[\begin{aligned} I_{PA} &amp;= \boxed{I_P}\textcolor{DarkRed}{S(\lambda,\theta,h)} \underline {\textcolor{Green}{T(PA)} } \\ &amp;=\boxed{I_S\textcolor{Green}{T(CP)}} \textcolor{DarkRed}{S(\lambda,\theta,h)} \underline { \textcolor{Green}{T(PA)} } \\ &amp;= \boxed { I_S \{exp\{-\textcolor{DodgerBlue}{\beta(\lambda)}\textcolor{Darkorange}{D(CP)}\}\} } \textcolor{DarkRed}{ \{ \textcolor{DodgerBlue}{ \beta(\lambda)} \textcolor{Gold}{\rho(h)} \textcolor{Purple}{\gamma(\theta)} \} } \underline { \{exp\{-\textcolor{DodgerBlue}{\beta(\lambda)}\textcolor{Darkorange}{D(PA)}\}\} }\\ &amp;= I_S \textcolor{DarkRed}{ \{ \textcolor{DodgerBlue}{\beta(\lambda)} \textcolor{Gold}{\rho(h)} \textcolor{Purple}{\gamma(\theta)} \} } \{exp\{ -\textcolor{DodgerBlue}{\beta(\lambda)} \{ \textcolor{Darkorange}{D(CP)} + \textcolor{Darkorange}{D(PA)} \} \} \} \end{aligned} \]</span></p><p>å…¶ä¸­ <span class="math inline">\(\textcolor{DodgerBlue}{\beta(\lambda)}\)</span> æ˜¯å¸¸é‡ï¼Œä¹Ÿå°±æ˜¯æµ·å¹³é¢é™„è¿‘çš„æ•£å°„ç³»æ•°ï¼Œåœ¨ Shader ä¸­ä½œä¸ºè¾“å…¥å³å¯ï¼Œ<span class="math inline">\(\textcolor{Darkorange}{D(PA)}\)</span> ç­‰åœ¨ Shader ä¸­è®¡ç®—ã€‚</p><div data-align="center"><p><img src="/images/atmosphere_scatter/scattering_06a.png" width="50%" height="50%"></p></div><p>æ€»ç»“èµ·æ¥ï¼Œå…¬å¼è¡¨ç¤ºçš„å«ä¹‰å°±æ˜¯ï¼Œè®¡ç®—è§‚å¯Ÿè·¯å¾„ABä¸ŠæŸä¸€ç‚¹Pçš„å…‰ç…§è´¡çŒ®ï¼š</p><ul><li>å…‰çº¿ä»å¤ªé˜³å‡ºå‘ï¼Œåˆ°è¾¾å¤§æ°”è¾¹ç¼˜çš„Cç‚¹</li><li>ç»è¿‡è·¯å¾„CPä¸Šçš„è¡°å‡åˆ°è¾¾Pç‚¹ï¼ˆ0çº§æ•£å°„ï¼‰</li><li>åœ¨Pç‚¹å‘ç”Ÿä¸€æ¬¡æ•£å°„ï¼Œå°†ä¸€éƒ¨åˆ†å…‰æ•£å°„åˆ°äº†è§‚å¯Ÿæ–¹å‘ä¸Šï¼ˆ1çº§æ•£å°„ï¼‰</li><li>è¿™éƒ¨åˆ†å…‰åˆç»è¿‡APè·¯å¾„ä¸Šçš„è¡°å‡æœ€ç»ˆåˆ°è¾¾äº†æˆ‘ä»¬çš„çœ¼ç›</li></ul><h3 id="æ•°å€¼ç§¯åˆ†">æ•°å€¼ç§¯åˆ†</h3><p>Påªæ˜¯ABä¸Šçš„æŸä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è·¯å¾„ABä¸Šçš„æ¯ä¸€ç‚¹è¿›è¡Œç§¯åˆ†ï¼š</p><div data-align="center"><p><img src="/images/atmosphere_scatter/scattering_08b.png" width="50%" height="50%"></p></div><p><span class="math display">\[\begin{aligned} I_A &amp;= \sum_{i=0}^{n}I_{P_n} \\ &amp;= \int_{A}^{B} I_{PA} ds \\ &amp;= \int_{A}^{B} I_S \textcolor{DarkRed}{ \{ \textcolor{DodgerBlue}{\beta(\lambda)} \textcolor{Gold}{\rho(h)} \textcolor{Purple}{\gamma(\theta)} \} } \{ exp\{ -\textcolor{DodgerBlue}{\beta(\lambda)} \{ \textcolor{Darkorange}{D(CP)} + \textcolor{Darkorange}{D(PA)} \} \} \} ds \\ &amp;= I_S \textcolor{DodgerBlue}{\beta(\lambda)} \textcolor{Purple}{\gamma(\theta)} \int_{A}^{B} {exp\{ -\textcolor{DodgerBlue}{\beta(\lambda)} \{ \textcolor{Darkorange}{D(CP)} + \textcolor{Darkorange}{D(PA)} } \}\} \textcolor{Gold}{\rho(h)} ds \end{aligned} \]</span></p><blockquote><p>åœ¨å¤§æ°”shaderä¸­ï¼Œæˆ‘ä»¬å°† <span class="math inline">\(AB\)</span> åˆ†å‰²æˆç­‰é•¿çš„è‹¥å¹²æ®µï¼Œç„¶åå–è¿™äº›æ®µçš„ä¸­ç‚¹è®°ä¸º <span class="math inline">\(P_i\)</span>ï¼Œç„¶ååˆ†åˆ«è®¡ç®—æ¯ä¸ªç‚¹çš„ <span class="math inline">\(I_{P_i}\)</span>ï¼Œæœ€åå°†è¿™äº›ç‚¹çš„å…‰ç…§ç´¯åŠ èµ·æ¥ã€‚</p></blockquote><h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2><p><a target="_blank" rel="noopener" href="https://www.alanzucconi.com/2017/10/10/atmospheric-scattering-1/">1.Volumetric Atmospheric Scattering</a></p><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43803133/article/details/116354462">2.UnityåŸºäºä½“ç»˜åˆ¶çš„å¤§æ°”æ•£å°„shader</a></p><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/237502022">3.ã€å®æˆ˜ã€‘ä»é›¶å®ç°ä¸€å¥—å®Œæ•´å•æ¬¡å¤§æ°”æ•£å°„</a></p><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/36498679">4.åŸºäºç‰©ç†çš„å¤§æ°”æ¸²æŸ“ -- å†¯ä¹ä¹</a></p><p><a target="_blank" rel="noopener" href="http://igorsklyar.com/main/development_description/26?locale=en">5.Extended Disney "principled" Shader</a></p><p><a target="_blank" rel="noopener" href="https://github.com/SlightlyMad/AtmosphericScattering">6.Atmospheric Scattering for Unity 5</a></p><p><a target="_blank" rel="noopener" href="https://sebh.github.io/publications/">7.SÃ©bastien Hillaire Website</a></p><p><a target="_blank" rel="noopener" href="https://freehyan.github.io/2020/03/05/sky-rendering-1/">8.åŸºäºç‰©ç†çš„å¤§æ°”æ•£å°„</a></p><div id="ref-anchor-9"></div><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/383020796">9.é¢„è®¡ç®—å¤§æ°”æ•£å°„æ¨¡å‹ï¼šåŸç†ä¸å®ç°</a></p><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css"></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Atmosphere/" rel="tag"># Atmosphere</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2022/03/14/landscape-texture-array/" rel="prev" title="UE4 landscape ä½¿ç”¨ Texture Array"><i class="fa fa-chevron-left"></i> UE4 landscape ä½¿ç”¨ Texture Array</a></div><div class="post-nav-item"></div></div></footer></article></div><div class="comments" id="valine-comments"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">å°è´¤</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="ç«™ç‚¹æ€»å­—æ•°">153k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">2:19</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="æ€»è®¿å®¢é‡"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="æ€»è®¿é—®é‡"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨</div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="timeDate">è½½å…¥å¤©æ•°...</span><span id="times">è½½å…¥æ—¶åˆ†ç§’...</span><script>var now=new Date,create_time="03/25/2021 20:25:22",grt=new Date(create_time);function createtime(){now.setTime(now.getTime()+250),days=(now-grt)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-grt)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-grt)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-grt)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML=" | æœ¬ç«™å·²å®‰å…¨è¿è¡Œ "+dnum+" å¤© ",document.getElementById("times").innerHTML=hnum+" å°æ—¶ "+mnum+" åˆ† "+snum+" ç§’"}setInterval("createtime()",250)</script></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script><script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script><script src="/js/third-party/search/local-search.js"></script><script src="/js/third-party/pace.js"></script><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script><script src="/js/third-party/math/mathjax.js"></script><script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script><script>var options={bottom:"64px",right:"unset",left:"32px",time:"0.5s",mixColor:"transparent",backgroundColor:"transparent",buttonColorDark:"#100f2c",buttonColorLight:"#fff",saveInCookies:!0,label:"ğŸŒ“",autoMatchOsTheme:!0};const darkmode=new Darkmode(options);window.darkmode=darkmode,darkmode.showWidget()</script><script class="next-config" data-name="valine" type="application/json">{"enable":true,"appId":"7TO2HV1Xg9swHbSsI2kFt1H7-gzGzoHsz","appKey":"FgrhitpMKU9Ff5RhDKrpPgog","serverURLs":"https://7to2hv1x.lc-cn-n1-shared.com","placeholder":"ãƒ¾ï¾‰â‰§âˆ€â‰¦)oæ¥å•Šï¼Œå¿«æ´»å•Š!","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"lang":null,"visitor":false,"comment_count":true,"recordIP":true,"enableQQ":false,"requiredFields":[],"el":"#valine-comments","path":"/2022/05/05/atmosphere-scatter/"}</script><script>document.addEventListener("page:loaded",()=>{NexT.utils.loadComments(CONFIG.valine.el).then(()=>NexT.utils.getScript("https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js",{condition:window.Valine})).then(()=>{new Valine(CONFIG.valine)})})</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false}});</script></body></html>